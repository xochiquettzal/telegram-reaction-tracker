{% extends 'base.html' %}

{% block title %}{{ t('app_name', lang) }} - {{ t('new_search', lang) }}{% endblock %}

{% block content %}
    <div class="search-card">
        <h2>{{ t('new_search', lang) }}</h2>
        <p class="search-description">{{ t('index_description', lang) }}</p>

        <form action="{{ url_for('fetch') }}" method="post" class="input-form">
            <div class="form-group">
                <label for="chat_id">{{ t('chat_input_label', lang) }}</label>
                <input type="text" id="chat_id" name="chat_id"
                       placeholder="{{ t('chat_input_placeholder', lang) }}"
                       class="form-control" required>
            </div>

            <div class="form-group">
                <label for="period">{{ t('period_label', lang) }}</label>
                <select id="period" name="period" class="form-control">
                    <option value="1">{{ t('period_1', lang) }}</option>
                    <option value="7">{{ t('period_7', lang) }}</option>
                    <option value="30">{{ t('period_30', lang) }}</option>
                    <option value="90">{{ t('period_90', lang) }}</option>
                    <option value="180">{{ t('period_180', lang) }}</option>
                    <option value="all">{{ t('period_all', lang) }}</option>
                </select>
            </div>

            <div class="fetch-settings">
                <h3>{{ t('fetch_settings', lang) }}</h3>
                <div class="form-group-checkbox">
                    <input type="checkbox" id="reaction_filter" name="reaction_filter" value="true">
                    <label for="reaction_filter">{{ t('filter_by_reactions', lang) }}</label>
                </div>
                <div class="form-group">
                    <label for="download_limit">{{ t('download_limit_label', lang) }}</label>
                    <input type="number" id="download_limit" name="download_limit" class="form-control" min="1" placeholder="{{ t('download_limit_placeholder', lang) }}">
                </div>
            </div>

            <button type="submit" class="btn">{{ t('fetch_button', lang) }}</button>
        </form>
    </div>
{% endblock %}

{% block scripts_extra %}
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}
